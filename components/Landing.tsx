import {
	FC,
	Dispatch,
	SetStateAction,
	useEffect,
	useState
} from "react";
import { ImageSlots } from '../components/ImageSlots'
import { MusicPlayer } from '../components/MusicPlayer'

interface LandingProps {
	imageURLs: string[]
	musicURL: string
	// setMounted: Dispatch<SetStateAction<boolean>>
	mounted: boolean
	setMusicCanPlay: Dispatch<SetStateAction<boolean>>
	setImagesPreloaded: Dispatch<SetStateAction<boolean>>
}

export const Landing: FC<LandingProps> = ({
	imageURLs,
	musicURL,
	// setMounted
	mounted,
	setMusicCanPlay,
	setImagesPreloaded,
}) => {
	// const [mounted, setMounted] = useState(false)
	// useEffect(() => {
	// 	setMounted(() => true)
	// }, [setMounted])
	// useEffect(() => {
	// 	setMounted(() => true)
	// }, [])

	return (
		<>
		<div className={`Landing ${mounted ? 'visible' : ''}`}>
				<h1 className="TaikiHeader">Taiki</h1>
				<h1 className="TaikiHeader">Friends</h1>
				<ImageSlots imageURLs={imageURLs} setImagesPreloaded={setImagesPreloaded} mounted={mounted} />
				<h3 className="InProgress">Currently building<div className="dot-flashing"></div></h3>
				<div className="TaikiSocials">
					<h2>Stay Updated</h2>
					<a
						href="https://twitter.com/taikifriends"
						target="_blank"
						rel="noreferrer"
					>
						<button>
							<svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M23.8557 2.59867C22.965 2.99264 22.0205 3.25138 21.0533 3.36633C22.0727 2.75667 22.8357 1.79718 23.2 0.666665C22.2433 1.236 21.1945 1.635 20.1013 1.85083C19.367 1.06517 18.3938 0.544122 17.3328 0.36868C16.2718 0.193239 15.1826 0.373238 14.2345 0.880693C13.2864 1.38815 12.5325 2.19463 12.09 3.17476C11.6475 4.15488 11.5412 5.25374 11.7877 6.3005C9.84763 6.20326 7.94972 5.69911 6.21717 4.82077C4.48462 3.94244 2.95615 2.70955 1.731 1.20217C1.29734 1.94702 1.06945 2.79376 1.07067 3.65566C1.07067 5.34733 1.93167 6.84183 3.24067 7.71683C2.46601 7.69244 1.7084 7.48324 1.031 7.10667V7.16733C1.03123 8.29398 1.4211 9.38588 2.13449 10.2579C2.84788 11.1299 3.8409 11.7284 4.94517 11.9518C4.22605 12.1467 3.47203 12.1754 2.74017 12.0358C3.05151 13.0056 3.65834 13.8537 4.47569 14.4615C5.29304 15.0692 6.27998 15.4061 7.29833 15.425C6.28623 16.2199 5.12737 16.8075 3.88803 17.1542C2.64868 17.5009 1.35315 17.6 0.0755005 17.4457C2.30581 18.88 4.90211 19.6415 7.55383 19.639C16.529 19.639 21.4372 12.2038 21.4372 5.75567C21.4372 5.54567 21.4313 5.33333 21.422 5.12567C22.3773 4.43519 23.2019 3.57985 23.8568 2.59983L23.8557 2.59867Z" fill="black"/>
							</svg>
							<div>Twitter</div>
						</button>
					</a>
					<a
						href="https://discord.gg/vkTxgaurZv"
						target="_blank"
						rel="noreferrer"
					>
						<button>
							<svg width="23" height="18" viewBox="0 0 23 18" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M19.4705 1.45324C18.0045 0.7806 16.4325 0.285031 14.7889 0.00119827C14.759 -0.00427962 14.7291 0.00940992 14.7137 0.0367896C14.5115 0.396371 14.2875 0.865474 14.1307 1.23419C12.3629 0.969524 10.6041 0.969524 8.87256 1.23419C8.7157 0.857278 8.48363 0.396371 8.28055 0.0367896C8.26513 0.0103234 8.23523 -0.00336609 8.2053 0.00119827C6.56258 0.284124 4.99058 0.779693 3.52373 1.45324C3.51103 1.45871 3.50015 1.46785 3.49292 1.4797C0.511167 5.93438 -0.305661 10.2796 0.0950476 14.5709C0.0968607 14.5919 0.108646 14.612 0.124965 14.6247C2.09224 16.0694 3.99789 16.9465 5.86814 17.5279C5.89808 17.537 5.92979 17.5261 5.94884 17.5014C6.39125 16.8973 6.78562 16.2602 7.12375 15.5903C7.1437 15.5511 7.12466 15.5045 7.08387 15.489C6.45834 15.2517 5.8627 14.9624 5.28974 14.6339C5.24442 14.6074 5.24079 14.5426 5.28249 14.5115C5.40306 14.4212 5.52366 14.3272 5.63879 14.2323C5.65962 14.2149 5.68865 14.2113 5.71314 14.2222C9.47723 15.9408 13.5523 15.9408 17.272 14.2222C17.2965 14.2104 17.3255 14.214 17.3472 14.2314C17.4624 14.3263 17.583 14.4212 17.7045 14.5115C17.7462 14.5426 17.7434 14.6074 17.6981 14.6339C17.1252 14.9688 16.5295 15.2517 15.9031 15.4881C15.8623 15.5036 15.8442 15.5511 15.8641 15.5903C16.2095 16.2593 16.6039 16.8963 17.0381 17.5005C17.0562 17.5261 17.0889 17.537 17.1188 17.5279C18.9981 16.9465 20.9038 16.0694 22.871 14.6247C22.8883 14.612 22.8992 14.5928 22.901 14.5718C23.3805 9.61056 22.0977 5.30101 19.5004 1.48061C19.494 1.46785 19.4832 1.45871 19.4705 1.45324ZM7.68586 11.9579C6.5526 11.9579 5.61884 10.9175 5.61884 9.63978C5.61884 8.36205 6.53449 7.32164 7.68586 7.32164C8.84625 7.32164 9.77098 8.37118 9.75284 9.63978C9.75284 10.9175 8.83718 11.9579 7.68586 11.9579ZM15.3283 11.9579C14.1951 11.9579 13.2613 10.9175 13.2613 9.63978C13.2613 8.36205 14.1769 7.32164 15.3283 7.32164C16.4887 7.32164 17.4134 8.37118 17.3953 9.63978C17.3953 10.9175 16.4887 11.9579 15.3283 11.9579Z" fill="black"/>
							</svg>
							<div>Discord</div>
						</button>
					</a>
				</div>
			</div>
			<div className={`Footer ${mounted ? 'visible' : ''}`}>
				<MusicPlayer musicURL={musicURL} mounted={mounted} setMusicCanPlay={setMusicCanPlay} />
				<p className="Legal">Â© 2022 Taiki Friends</p>
			</div>
		</>
	)
}